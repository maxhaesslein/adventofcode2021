<!DOCTYPE html><html><head><meta charset="utf-8"/>
<script type="text/javascript">

function prepareInput( input ) {

	input = input.split("\n");

	return input;
}

function answer1( input ) {

	var horPos = 0,
		depth = 0;

	for( var i = 0; i < input.length; i++ ) {
		var currentStep = input[i];

		if( ! currentStep ) continue;

		currentStep = currentStep.split(' ');

		var direction = currentStep[0],
			distance = parseInt(currentStep[1], 10);

		if( direction == 'forward' ) {
			horPos += distance;
		} else if( direction == 'down' ) {
			depth += distance;
		} else if( direction == 'up' ) {
			depth -= distance;
		}
	}

	return horPos*depth;
}

function answer2( input ) {

	var horPos = 0,
		depth = 0,
		aim = 0;

	for( var i = 0; i < input.length; i++ ) {
		var currentStep = input[i];

		if( ! currentStep ) continue;

		currentStep = currentStep.split(' ');

		var direction = currentStep[0],
			distance = parseInt(currentStep[1], 10);

		if( direction == 'forward' ) {
			horPos += distance;
			depth += aim*distance;
		} else if( direction == 'down' ) {
			aim += distance;
		} else if( direction == 'up' ) {
			aim -= distance;
		}
	}

	return horPos*depth;
}



function getInput() {
	var textArea = document.getElementById('input');
	var input = textArea.value;

	if( ! input ) console.log("please provide an input");

	return input;
}
window.addEventListener('load',function(){
	var output = document.getElementById('output');
	document.getElementById('start').addEventListener('click', function(){
		var input = prepareInput(getInput());
		output.innerHTML = "Answer 1: "+answer1(input);
		output.innerHTML += "\nAnswer 2: "+answer2(input);
	});
});
</script>
<style>
pre {
	background: #eee;
	min-height: 2em;
}
</style>
</head>
<body>
<pre id="output"></pre>
<textarea id="input"></textarea>
<button id="start">start</button>
</body></html>
